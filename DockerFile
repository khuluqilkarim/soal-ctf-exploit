FROM php:7.4-apache

# Install MySQL server
RUN apt-get update && apt-get install -y default-mysql-server

# Enable mod_rewrite for Apache
RUN a2enmod rewrite

# Copy the website files
COPY ./src/ /var/www/html/

# Copy the entrypoint script
COPY ./entrypoint.sh /entrypoint.sh

# Set the entrypoint
ENTRYPOINT ["/entrypoint.sh"]

EXPOSE 80
